//
//  Functions.swift
//  Created by Pedro Muniz on 21/03/22.
//  Here is the whole story IN GERMAN (DE - DEUTSCH), each part that demands an input from the user is contained in one function, which calls the next as the user types in the adequate input
//

import Foundation   

func part1() {
    print(
    """
    \nEs war einmal: So fangen M√§rchen an. Ein M√§rchen ist eine sehr alte Geschichte.
    Dieses M√§rchen hei√üt: Rotk√§ppchen (auf Englisch: "Little Red Riding Hood"!), und es geht so:

    Ein M√§dchen hatte eine Gro√ümutter. Einmal kam die Gro√ümutter zu Besuch und hat dem M√§dchen ein rotes K√§ppchen geschenkt (ein K√§ppchen ist eine kleine M√ºtze!). Das M√§dchen mochte das rote K√§ppchen sehr. Was hat das M√§dchen deiner Gro√ümutter gesagt, als es das K√§ppchen empfangen hat?
    
    """
    )
    
    print("--> ", terminator: "")
    let answer1 = readLine()?.lowercased()
    switch answer1 {
    case "vielen danke","danke","danke sehr","danke gro√ümutter","vielen danke gro√ümutter","ich danke dir","danke oma","danke gro√ümutti","vielen dank","dank","vielen danke!","danke!","danke sehr!","danke gro√ümutter!","vielen danke gro√ümutter!","ich danke dir!","danke oma!","danke gro√ümutti!","vielen dank!","dank!":
        print("\nDie Gro√ümutter sagte - Nichts zu danken, Schatz!")
        part2() // calls the next part of the story
    default:
        print("\nDie Gro√ümutter sagte - Ich hoffe du magst es! Und vergiss es nicht: es ist immer wichtig, ‚Äòdanke‚Äô zu sagen!")
        // here there could be a call to a function to an alternative storyline
    }
}

func part2() {
    print(
    """
    
    - Jetzt muss ich los! - sagte die Gro√ümutter dann. - Komm mal zu Besuch, wann immer du willst, Kleine!
    Anschlie√üend verlie√ü sie das M√§dchens Haus und ging nach Hause.
          
    Von da an wollte das M√§dchen das rote K√§ppchen immer tragen.
    Deshalb war das M√§dchen als ‚ÄòRotk√§ppchen‚Äô bekannt.

    Rotk√§ppchen wohnte mit ihrer Mutter.

    An einem Morgen waren sie beide in der K√ºche.
    Zu ihrer Rechten befinden sich der K√ºhlschrank, die Theke und der Ofen.
    Zu ihrer Linken ist das Waschbecken und ein Fenster.
    Geradeaus ist die T√ºr zum Verlassen des Hauses.
    Dahinter ist eine T√ºr zum Esszimmer.

    Die Mutter gibt Rotk√§ppchen einen Korb.
    Willst du etwas fragen?
    
    """
    )
    
    var loop1 = true
    let list1 = ["was ist in dem korb?", "schau in dem korb", "den korb sehen", "den korb suchen", "den korb checken", "check den korb", "was ist in dem korb"]
    while loop1 {
        print("--> ", terminator: "")
        let answer2 = readLine()?.lowercased()
        if list1.contains(answer2!){
            print("\nIn dem Korb ist Wein und Kuchen üß∫üç∑üç∞")
            part3()
            loop1 = false
        } else {
            print("\nDu musst wissen, was in dem Korb ist!")
        }
    }
            
}

func part3() {
    print(
    """
    
    Dann sagt die Mutter zu Rotk√§ppchen: - Bring mal den Korb zur Gro√ümutter. Und gr√º√ü sie lieb von mir. Sie ist krank und soll wieder zu Kr√§ften kommen. Ich hoffe sie wird schnell gesund werden, also beeil dich. Geh mal immer geradeaus und bleib auf dem Weg! Pass gut auf die Dinge im Korb auf! üßê
    
    - Verstanden? - fragt die Mutter.
    
    """
    )
    print("--> ", terminator: "")
    let answer3 = readLine()?.lowercased()
    switch answer3 {
    case "ok","ja","verstanden":
        part4()
    default: break
    }

}

func part4() {
    print("\nWas machst du jetzt?")
    var loop2 = true
    let list2 = ["gehe geradeaus", "geradeaus gehen", "geh geradeaus", "haus verlassen", "das haus verlassen"]
    while loop2 {
        print("\n--> ", terminator: "")
        let answer4 = readLine()?.lowercased()
        if list2.contains(answer4!) {
            part5()
            loop2 = false
        } else {
            print("\nDa ist nichts das du brauchst. Du musst jetzt das Haus verlassen. Versuch noch mal \n")
        }
    
    }
}

func part5() {
    print(
    """
    
    Rotk√§ppchen verl√§sst das Haus üè° und geht in den Wald üå≥ zur Gro√ümutter üëµ
    Aber im Wald trifft Rotk√§ppchen einen Wolf üê∫ Der Wolf ist ein b√∂ses Tier, obwohl  Rotk√§ppchen wei√ü das nicht.
    Deshalb hat Rotk√§ppchen auch keine Angst vor dem Wolf.
    Der Wolf sieht Rotk√§ppchen und sagt: - Hallo Rotk√§ppchen!

    Was antwortest du?
    
    """
    )
    print("--> ", terminator: "")
    let _ = readLine()?.lowercased()
    
    print("\nDer Wolf fragt Rotk√§ppchen: - Wohin gehst du?")
    var loop3 = true
    let list3 = ["ich gehe zur gro√ümutter", "zur gro√ümutter", "zu gro√ümutters haus", "gro√ümutter", "gro√ümutters haus", "ich gehe zur grossmutter", "zur grossmutter", "zu grossmutters haus", "grossmutter", "grossmutters haus", "gro√ümutter", "grossmutter"]
    while loop3 {
        print("\n--> ", terminator: "")
        let answer5 = readLine()?.lowercased()
        if list3.contains(answer5!) {
            part6()
            loop3 = false
        } else {
            print("\nDann sagt er: - Wirklich? Achtung! Ich kann L√ºgen und Halbwahrheiten erkennen. Ich frage noch einmal, wohin gehst du? Du musst das mir deutlich erz√§hlen! \n")
        }
    }
}

func part6() {
    print("\nDer Wolf fragt: - Was hast du in deinem Korb?")
    var loop4 = true
    let listbasket = ["wein und kuchen", "kuchen und wein", "wein und kuchen!", "kuchen und wein!"]
    while loop4 {
        print("\n--> ", terminator: "")
                let answer6 = readLine()?.lowercased()
        if listbasket.contains(answer6!) {
            part7()
            loop4 = false
        } else {
            print("\nWas hast du denn in deinem Korb?! Du musst die richtige Antwort geben! \n")
        }
    }
}

func part7() {
    print("\nDer Wolf sagt: - Warum nimmst du das f√ºr deine Oma? \n")
    var loop5 = true
    let list4 = ["meine gro√ümutter ist krank","gro√ümutter ist krank","sie ist krank","meine oma ist krank","oma ist krank","meine grossmutter ist krank","grossmutter ist krank","gro√ümutter ist krank"]
    while loop5 {
        print("--> ", terminator: "")
        let answer7 = readLine()?.lowercased()
        if list4.contains(answer7!) {
            part8()
            loop5 = false
        } else {
            print("\nDer Wolf sagt: - Bist du sicher, dass das deine Antwort ist? \n")
        }
    }
}

func part8() {
    print("\nDer Wolf ist immer noch neugierig und fragt: - Wo wohnt deine Gro√ümutter? \n")
    var loop6 = true
    let list5 = ["ich muss immer geradeaus","immer geradeaus","geradeaus","immer geradeaus und auf dem weg","geradeaus und auf dem weg","auf dem weg"]
    while loop6 {
        print("--> ", terminator: "")
        let answer8 = readLine()?.lowercased()
        if list5.contains(answer8!) {
            part9()
            loop6 = false
        } else {
            print("\nWie kommt man dort hin? - Das hat Herr Wolf gemeint. \n")
        }
    }
}

func part9() {
    print(
    """
    
    - So ist es! Immer geradeaus, dann kommt das Haus von meiner Gro√ümutter. Das Haus steht unter den 3 Eichen.
    
    Der Wolf ist aber sehr hungrig und denkt:
    'Rotk√§ppchen ist jung und zart.
    Ich m√∂chte Rotk√§ppchen fressen.
    Rotk√§ppchen schmeckt sicher gut.
    Und Rotk√§ppchen schmeckt sicher besser als die alte Gro√ümutter.'
    Dann hat er eine Idee. Er will Rotk√§ppchen und auch die Gro√ümutter fressen. Aber daf√ºr muss er schlau sein.
    So geht der Wolf ein St√ºck auf dem Weg mit Rotk√§ppchen mit.
    Dann sagt der Wolf zu Rotk√§ppchen: - Auf der Wiese hier im Wald wachsen sch√∂ne Blumen. Du kannst die Blumen pfl√ºcken, und deiner Gro√ümutter einen Blumenstrau√ü mitbringen. Es ist so sch√∂n hier im Wald. Und die V√∂gel singen. Schau dich einmal um.

    Was machst du?
    
    """
    )
    
    var loop7 = true
    let list6 = ["ich schaue mich um!","ich schaue mich um","schaue mich um","umschauen","mich umschauen","ja will ich","ja","ja klar","ja ich will","ich will","will ich","ja ich will mich ein bisschen umschauen"]
    while loop7 {
        print("--> ", terminator: "")
        let answer9 = readLine()?.lowercased()
        if list6.contains(answer9!) {
            part10()
            loop7 = false
        } else {
            print("\nDer Wolf hat gefragt: willst du nicht dich ein bisschen umschauen?")
        }
    }

}

func part10() {
    print(
    """
    
    Die Sonne scheint zwischen den B√§umen.
    Und die V√∂gel singen.
    Rotk√§ppchen denkt: 'Gro√ümutter freut sich sicher √ºber einen Blumenstrau√ü.'

    Willst du den Weg verlassen, um Blumen zu pfl√ºcken?
    
    """
    )
    print("--> ", terminator: "")
    let answer10 = readLine()?.lowercased()
    switch answer10 {
    case "ok","ja","verstanden","ja klar","klar","ja will ich","weg verlassen","den weg verlassen","ok!","ja!","verstanden!","ja klar!","klar!","ja will ich!","weg verlassen!","den weg verlassen!":
        part11()
    default:
        print(
        """
        
        Der Wolf sagt: - Du willst nicht den Weg verlassen?! Also fresse ich dich sofort!!! Und sp√§ter finde ich deine liebe Oma und fresse ich sie auch! MUAHAHAHA!

        Der Wolf hat dich gefressen. Du bist leider tot ‚ò†Ô∏è‚ö∞Ô∏è

        üòµ GAME OVER üòµ
        
        Willst du noch mal versuchen? (Start again?): Press 1
        Willst du das Spiel verlassen? (Quit?): Press 2
        
        """
        )
        var loop8 = true
        while loop8 {
            print("--> ", terminator: "")
            let usersChoice1 = readLine()
            if usersChoice1 == "1" {
                part1()
                loop8 = false
            } else if usersChoice1 == "2" {
                exit(0)
            } else {
                print("\nDu musst entweder '1' oder '2' typpen (You must type either '1' or '2'")
            }
        }
        
    }
}

func part11() {
    print(
    """
    
    So verl√§sst Rotk√§ppchen den Weg und geht zu der Wiese.
    Rotk√§ppchen m√∂chte n√§mlich Blumen f√ºr die Gro√ümutter pfl√ºcken.
    Und dabei vergisst Rotk√§ppchen die Zeit.

    In dieser Zeit geht der Wolf zum Haus von der Gro√ümutter.
    Der Wolf klopft an die T√ºr.
    Was sagt die Gro√ümutter?
    
    """
    )
    var loop9 = true
    let list7 = ["wer ist das? fragen","wer ist das fragen","frag wer ist das","frag wer ist das?","wer ist das","wer ist das?","frag wer ist da","wer ist da?","wer ist da fragen","fragen wer ist da?"]
    while loop9 {
        print("--> ", terminator: "")
        let answer11 = readLine()?.lowercased()
        if list7.contains(answer11!) {
            part12()
            loop9 = false
        } else {
            print("\nWann man an die T√ºr klopft, muss man etwas fragen, oder? Was fragt die Gro√ümutter?\n")
        }
    }
    
}

func part12() {
    print(
    """
    
    Der Wolf antwortet mit hoher Stimme: - Rotk√§ppchen! ü•∫üòà Ich bringe dir einen Korb von der Mutter.

    Die Gro√ümutter sagt: - Komm mal herein. Ich kann nicht aufstehen.

    Der Wolf geht zum Bett von der Gro√ümutter.
    Und der Wolf frisst die Gro√ümutter ganz schnell.
    Dann zieht der Wolf die Kleider von der Gro√ümutter an, legt sich ins Bett und wartet auf Rotk√§ppchen.

    Rotk√§ppchen ist immer noch auf der Wiese im Wald.
    Was macht Rotk√§ppchen jetzt?
    
    """
    )
    var loop10 = true
    let list8 = ["blumen pfl√ºcken","pfl√ºcken blumen","pfl√ºck blumen"]
    let list9 = ["geh zum haus von der gro√ümutter","zum haus von der gro√ümutter gehen","geh zu gro√ümutter","zu gro√ümutter gehen","zur√ºck zum weg","zur√ºck"]
    while loop10 {
        print("--> ", terminator: "")
        let answer12 = readLine()?.lowercased()
        if list8.contains(answer12!) {
            print("\nRotk√§ppchen hat viele Blumen gepfl√ºckt. üåπüíêüå∑üå∫üå∏üåºüèµÔ∏è")
            part13()
            loop10 = false
        } else if list9.contains(answer12!) {
            part13()
            loop10 = false
        } else {
            print("\nBitte versuch noch mal (eine verschidene Antwort)\n")
        }
    }

}

func part13() {
    print(
    """
    
    Nach einer Weile denkt Rotk√§ppchen pl√∂tzlich wieder an die Gro√ümutter.
    Rotk√§ppchen geht zur√ºck zum Weg.
    Und l√§uft jetzt schnell zum Haus von der Gro√ümutter.

    Rotk√§ppchen kommt zum Haus von der Gro√ümutter.
    Die T√ºr ist offen. Rotk√§ppchen wundert sich und bekommt Angst.

    Was machst du?
    
    """
    )
    var loop11 = true
    let list10 = ["geh ins haus","ins haus gehen","komm rein","reinkommen"]
    let list11 = ["geh weg","weglaufen","zur√ºck nach hause","zur√ºck nach hause gehen","abhauen","hau ab"]
    while loop11 {
        print("--> ", terminator: "")
        let answer13 = readLine()?.lowercased()
        if list10.contains(answer13!) {
            part14()
            loop11 = false
        } else if list11.contains(answer13!) {
            print(
            """
            
            Rotk√§ppchen geht schnell zur√ºck nach Hause. Sp√§ter findet man, dass ihre Oma verschwunden ist. Der Wolf war schon weg und ist wahrscheinlich immer noch frei im Wald‚Ä¶ ü§ß

            GAME OVER! üò∞

            Willst du noch mal versuchen? (Start again?): Press 1
            Willst du das Spiel verlassen? (Quit?): Press 2
            
            """
            )
            loop11 = false
            var loop12 = true
            while loop12 {
                print("--> ", terminator: "")
                let usersChoice2 = readLine()
                if usersChoice2 == "1" {
                    part1()
                    loop12 = false
                } else if usersChoice2 == "2" {
                    exit(0)
                } else {
                    print("\nDu musst entweder '1' oder '2' typpen (You must type either '1' or '2'")
                }
            }

        } else {
            print(
            """
            
            Bitte versuch noch mal!
            (Du kannst entweder zur√ºck nach Hause oder reinkommen. Was machst du?)
            
            """
            )
        }
    }
}

func part14() {
    print(
    """
    
    Rotk√§ppchen geht ins Haus. Die Gro√ümutter ist nirgends zu sehen.
    Geradeaus ist das Esszimmer und K√ºche.
    Rotk√§ppchen geht zum Bett von der Gro√ümutter.


    Der Wolf hat die Haube von der Gro√ümutter auf. Eine Haube ist eine Schlafm√ºtze.
    Deshalb kann Rotk√§ppchen das Gesicht vom Wolf nicht sehen.

    Rotk√§ppchen denkt: 'Die Gro√ümutter sieht heute aber komisch aus.' Ihre Ohren sehen so gro√ü aus! Rotk√§ppchen fragt sich warum...

    Was sagt Rotk√§ppchen denn?
    
    """
    )
    var loop13 = true
    let list12 = ["warum hast du so gro√üe ohren?","warum hast du gro√üe ohren?","warum sind deine ohren so gro√ü?","warum sind deine ohren gro√ü?","warum sehen deine ohren so gro√ü aus?","warum hast du so grosse ohren?","warum hast du grosse ohren?","warum sind deine ohren so gross?","warum sind deine ohren gross?","warum sehen deine ohren so gross aus?"]
    while loop13 {
        print("--> ", terminator: "")
        let answer14 = readLine()?.lowercased()
        if list12.contains(answer14!) {
            part15()
            loop13 = false
        } else {
            print("\nDu musst die richtige Fragen stellen!\n")
        }
    }
}

func part15() {
    print(
    """
    
    Der Wolf antwortet mit hoher Stimme: - So kann ich dich besser h√∂ren!!
    
    Aber andere Dinge bei Rotk√§ppchens Oma sind komisch‚Ä¶
    Ihre H√§nde sehen auch sehr gro√ü aus! Rotk√§ppchen fragt sich warum...

    Was sagt Rotk√§ppchen denn?
    
    """
    )
    var loop14 = true
    let list13 = ["warum hast du so gro√üe h√§nde?","warum hast du gro√üe h√§nde?","warum sind deine h√§nde so gro√ü?","warum sind deine h√§nde gro√ü?","warum sehen deine h√§nde so gro√ü aus?","warum hast du so grosse h√§nde?","warum hast du grosse h√§nde?","warum sind deine h√§nde so gross?","warum sind deine h√§nde gross?","warum sehen deine h√§nde so gross aus?"]
    while loop14 {
        print("--> ", terminator: "")
        let answer15 = readLine()?.lowercased()
        if list13.contains(answer15!) {
            part16()
            loop14 = false
        } else {
            print("\nDu musst die richtige Fragen stellen!\n")
        }
    }
}

func part16() {
    print(
    """
    
    Der Wolf antwortet mit hoher Stimme: -  So kann ich dich besser packen.

    Aber es gibt noch etwas komisches bei Rotk√§ppchens Oma‚Ä¶
    Ihr Mund sieht auch sehr gro√ü aus! Rotk√§ppchen fragt sich warum...

    Was sagt Rotk√§ppchen denn?
    
    """
    )
    var loop15 = true
    let list13 = ["warum hast du so einen gro√üen mund?","warum hast du einen gro√üen mund?","warum ist dein mund so gro√ü?","warum ist dein mund gro√ü?","warum sieht dein mund so gro√ü aus?","warum hast du so einen grossen mund?","warum hast du einen grossen mund?","warum ist dein mund so gross?","warum ist dein mund gross?","warum sieht dein mund so gross aus?"]
    while loop15 {
        print("--> ", terminator: "")
        let answer16 = readLine()?.lowercased()
        if list13.contains(answer16!) {
            part17()
            loop15 = false
        } else {
            print("\nDu musst die richtige Fragen stellen!\n")
        }
    }

}

func part17() {
    print(
    """
    
    Der Wolf antwortet mit tiefer Stimme: -  So kann ich dich besser fressen!!!

    Da springt der Wolf aus dem Bett.
    Und frisst auch Rotk√§ppchen.
    Dann ist der Wolf satt und zufrieden. Er legt sich wieder in das Bett von der Gro√ümutter und schl√§ft ein.

    Der Wolf schnarcht sehr laut.
    Ein J√§ger h√∂rt das Schnarchen.
    Der J√§ger kommt zum Haus von der Gro√ümutter.
    Und wundert sich.
    Der J√§ger denkt: 'Die Gro√ümutter schnarcht aber laut. Vielleicht geht es der Gro√ümutter schlecht. Ich sehe lieber nach.'

    Jetzt musst du entscheiden, was der J√§ger macht. Was macht er? Reinkommen oder weg gehen?
    
    """
    )
    
    var loop16extra = true
    let list13extra = ["geh ins haus","ins haus gehen","komm rein","reinkommen"]
    let list13extra2 = ["geh weg", "weggehen", "ich gehe weg", "er geht weg"]
    while loop16extra {
        print("--> ", terminator: "")
        let answer17 = readLine()?.lowercased()
        if list13extra.contains(answer17!) {
            part18()
            loop16extra = false
        } else if list13extra2.contains(answer17!) {
            print(
            """
            
            Der J√§ger tut nichts und geht weg. Sp√§ter findet man, dass das M√§dchen und seine Oma tot sind. Der Wolf ist wahrscheinlich immer noch frei im Wald‚Ä¶ ü§ß
                        
            GAME OVER! üò∞
            Willst du noch mal versuchen? (Start again?): Press 1
            Willst du das Spiel verlassen? (Quit?): Press 2
                        
            """
            )
                        var loop16 = true
                        while loop16 {
                            print("--> ", terminator: "")
                            let usersChoice3 = readLine()
                            if usersChoice3 == "1" {
                                part1()
                                loop16 = false
                            } else if usersChoice3 == "2" {
                                exit(0)
                            } else {
                                print("Du musst entweder '1' oder '2' typpen (You must type either '1' or '2'")
                            }
                        }
        } else {
            print("\nWillst du reinkommen oder weg gehen?")
        }
    }
    
}

func part18() {
    print(
    """
    Der J√§ger geht zum Haus von der Gro√ümutter. Er m√∂chte nach der Gro√ümutter sehen.
    Jetzt steht der J√§ger vor dem Bett von der Gro√ümutter. Aber im Bett liegt nicht die Gro√ümutter, sondern der Wolf.
    Der J√§ger freut sich, denn er hat den Wolf schon lange Zeit gesucht. Er will den Wolf erschie√üen. Aber er denkt: ‚ÄòVielleicht hat der Wolf die Gro√ümutter gefressen. Und vielleicht kann ich die Gro√ümutter noch retten.‚Äô
    Der J√§ger nimmt eine Schere und schneidet den Bauch vom Wolf auf. Aber das merkt der Wolf nicht - er schl√§ft n√§mlich tief und fest.

    Der J√§ger schneidet den Bauch vom Wolf auf. Pl√∂tzlich kommt Rotk√§ppchen aus dem Bauch vom Wolf. Und dann kommt auch die Gro√ümutter aus dem Bauch vom Wolf. Sie sind beide noch am Leben.
    Dann holt Rotk√§ppchen gro√üe Steine. Und der J√§ger legt die Steine in den Bauch vom Wolf.
    Der J√§ger n√§ht den Bauch vom Wolf wieder zu.

    Der Wolf wacht auf und sieht den J√§ger. Da bekommt der Wolf gro√üe Angst und will weglaufen. Aber die Steine im Bauch vom Wolf sind sehr schwer. Er Wolf f√§llt um und bleibt tot liegen.
    Der J√§ger nimmt das Fell vom Wolf mit nach Hause. Und Rotk√§ppchen und die Gro√ümutter essen den Kuchen

    Das war das M√§rchen von Rotk√§ppchen.
                        
                                    üßô‚Äç‚ôÄÔ∏èüßö‚Äç‚ôÄÔ∏èüßù‚Äç‚ôÄÔ∏èüßû‚Äç‚ôÇÔ∏èü¶Ñüßú‚Äç‚ôÇÔ∏è
                        
    Willst du zur√ºck? (Back to the main menu?): Press 1 and Enter
    Willst du das Spiel verlassen? (Quit?): Press 2 and Enter
    
    """
    )
    var loop17 = true
    while loop17 {
        print("--> ", terminator: "")
        let usersChoice4 = readLine()
        if usersChoice4 == "1" {
            main()
            loop17 = false
        } else if usersChoice4 == "2" {
            exit(0)
        } else {
            print("\nDu musst entweder '1' oder '2' typpen (You must type either '1' or '2' \n")
        }
    }
}
